<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1224px" preserveAspectRatio="none" style="width:376px;height:1224px;background:#FFFFFF;" version="1.1" viewBox="0 0 376 1224" width="376px" zoomAndPan="magnify"><title>Use Case 1: Log Food via Image</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="0" x="189.4551" y="15">Use Case 1: Log Food via Image</text><g><title>Frontend</title><rect fill="#FFFFFF" height="985.2656" style="stroke:#181818;stroke-width:1;" width="10" x="69.9102" y="148.2969"/></g><g><title>MediaController</title><rect fill="#FFFFFF" height="626.2656" style="stroke:#181818;stroke-width:1;" width="10" x="139.9102" y="253.2969"/></g><g><title>AiVisionService</title><rect fill="#FFFFFF" height="169" style="stroke:#181818;stroke-width:1;" width="10" x="173.9102" y="277.2969"/></g><g><title>Gemini API</title><rect fill="#FFFFFF" height="44" style="stroke:#181818;stroke-width:1;" width="10" x="243.9102" y="368.2969"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="96.1328" style="stroke:#181818;stroke-width:1;" width="10" x="267.9102" y="494.4297"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="72" style="stroke:#181818;stroke-width:1;" width="10" x="267.9102" y="650.5625"/></g><g><title>FoodItemModel</title><rect fill="#FFFFFF" height="82" style="stroke:#181818;stroke-width:1;" width="10" x="291.9102" y="753.5625"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:1;" width="10" x="326.9102" y="518.4297"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:1;" width="10" x="326.9102" y="674.5625"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:1;" width="10" x="326.9102" y="787.5625"/></g><rect fill="none" height="665.2656" style="stroke:#000000;stroke-width:1.5;" width="359.9102" x="10" y="461.2969"/><rect fill="none" height="173.1328" style="stroke:#000000;stroke-width:1.5;" width="232" x="127.9102" y="557.4297"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="34.9551" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="112.2969" y2="1143.5625"/></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="70.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="74.9102" x2="74.9102" y1="112.2969" y2="1143.5625"/></g><g><title>MediaController</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="140.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="144.9102" x2="144.9102" y1="112.2969" y2="1143.5625"/></g><g><title>AiVisionService</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="174.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="178.9102" x2="178.9102" y1="112.2969" y2="1143.5625"/></g><g><title>Gemini API</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="244.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="248.9102" x2="248.9102" y1="112.2969" y2="1143.5625"/></g><g><title>FoodTypeModel</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="268.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="272.9102" x2="272.9102" y1="112.2969" y2="1143.5625"/></g><g><title>FoodItemModel</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="292.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="296.9102" x2="296.9102" y1="112.2969" y2="1143.5625"/></g><g><title>MongoDB</title><rect fill="#000000" fill-opacity="0.00000" height="1031.2656" width="8" x="327.9102" y="112.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="331.9102" x2="331.9102" y1="112.2969" y2="1143.5625"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="112.2969">User</text><ellipse cx="38.9551" cy="44.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,52.5 L38.9551,79.5 M25.9551,60.5 L51.9551,60.5 M38.9551,79.5 L25.9551,94.5 M38.9551,79.5 L51.9551,94.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1158.8594">User</text><ellipse cx="38.9551" cy="1167.3594" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1175.3594 L38.9551,1202.3594 M25.9551,1183.3594 L51.9551,1183.3594 M38.9551,1202.3594 L25.9551,1217.3594 M38.9551,1202.3594 L51.9551,1217.3594" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="34" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="67.9102" y="77.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="74.9102" y="84.2969">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="74.9102" y="94.2969">(Android)</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="34" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="67.9102" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="74.9102" y="1149.5625">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="74.9102" y="1159.5625">(Android)</text></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="137.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="144.9102" y="94.2969">MediaController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="137.9102" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="144.9102" y="1149.5625">MediaController</text></g><g class="participant participant-head" data-participant="AiVision"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="171.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="178.9102" y="94.2969">AiVisionService</text></g><g class="participant participant-tail" data-participant="AiVision"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="171.9102" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="178.9102" y="1149.5625">AiVisionService</text></g><g class="participant participant-head" data-participant="Gemini"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="241.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="248.9102" y="94.2969">Gemini API</text></g><g class="participant participant-tail" data-participant="Gemini"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="241.9102" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="248.9102" y="1149.5625">Gemini API</text></g><g class="participant participant-head" data-participant="FoodTypeModel"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="265.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="272.9102" y="94.2969">FoodTypeModel</text></g><g class="participant participant-tail" data-participant="FoodTypeModel"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="265.9102" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="272.9102" y="1149.5625">FoodTypeModel</text></g><g class="participant participant-head" data-participant="FoodItemModel"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="289.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="296.9102" y="94.2969">FoodItemModel</text></g><g class="participant participant-tail" data-participant="FoodItemModel"><rect fill="#E2E2F0" height="24" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="14" x="289.9102" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="296.9102" y="1149.5625">FoodItemModel</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="328.9102" y="102.2969">MongoDB</text><path d="M313.9102,66.2969 C313.9102,56.2969 331.9102,56.2969 331.9102,56.2969 C331.9102,56.2969 349.9102,56.2969 349.9102,66.2969 L349.9102,92.2969 C349.9102,102.2969 331.9102,102.2969 331.9102,102.2969 C331.9102,102.2969 313.9102,102.2969 313.9102,92.2969 L313.9102,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M313.9102,66.2969 C313.9102,76.2969 331.9102,76.2969 331.9102,76.2969 C331.9102,76.2969 349.9102,76.2969 349.9102,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="328.9102" y="1142.5625">MongoDB</text><path d="M313.9102,1162.5625 C313.9102,1152.5625 331.9102,1152.5625 331.9102,1152.5625 C331.9102,1152.5625 349.9102,1152.5625 349.9102,1162.5625 L349.9102,1188.5625 C349.9102,1198.5625 331.9102,1198.5625 331.9102,1198.5625 C331.9102,1198.5625 313.9102,1198.5625 313.9102,1188.5625 L313.9102,1162.5625" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M313.9102,1162.5625 C313.9102,1172.5625 331.9102,1172.5625 331.9102,1172.5625 C331.9102,1172.5625 349.9102,1172.5625 349.9102,1162.5625" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>Frontend</title><rect fill="#FFFFFF" height="985.2656" style="stroke:#181818;stroke-width:1;" width="10" x="69.9102" y="148.2969"/></g><g><title>MediaController</title><rect fill="#FFFFFF" height="626.2656" style="stroke:#181818;stroke-width:1;" width="10" x="139.9102" y="253.2969"/></g><g><title>AiVisionService</title><rect fill="#FFFFFF" height="169" style="stroke:#181818;stroke-width:1;" width="10" x="173.9102" y="277.2969"/></g><g><title>Gemini API</title><rect fill="#FFFFFF" height="44" style="stroke:#181818;stroke-width:1;" width="10" x="243.9102" y="368.2969"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="96.1328" style="stroke:#181818;stroke-width:1;" width="10" x="267.9102" y="494.4297"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="72" style="stroke:#181818;stroke-width:1;" width="10" x="267.9102" y="650.5625"/></g><g><title>FoodItemModel</title><rect fill="#FFFFFF" height="82" style="stroke:#181818;stroke-width:1;" width="10" x="291.9102" y="753.5625"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:1;" width="10" x="326.9102" y="518.4297"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:1;" width="10" x="326.9102" y="674.5625"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:1;" width="10" x="326.9102" y="787.5625"/></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="57.9102,144.2969,67.9102,148.2969,57.9102,152.2969,61.9102,148.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="63.9102" y1="148.2969" y2="148.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="45.9551" y="126.2969">Selects "Add Food"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="45.9551" y="136.2969">and chooses image option</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="79.9102" x2="121.9102" y1="172.2969" y2="172.2969"/><line style="stroke:#181818;stroke-width:1;" x1="121.9102" x2="121.9102" y1="172.2969" y2="185.2969"/><line style="stroke:#181818;stroke-width:1;" x1="80.9102" x2="121.9102" y1="185.2969" y2="185.2969"/><polygon fill="#181818" points="90.9102,181.2969,80.9102,185.2969,90.9102,189.2969,86.9102,185.2969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="86.9102" y="160.2969">Opens camera</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="57.9102,205.2969,67.9102,209.2969,57.9102,213.2969,61.9102,209.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="63.9102" y1="209.2969" y2="209.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="45.9551" y="197.2969">Takes photo of food item</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Controller"><polygon fill="#181818" points="127.9102,249.2969,137.9102,253.2969,127.9102,257.2969,131.9102,253.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.9102" x2="133.9102" y1="253.2969" y2="253.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="86.9102" y="221.2969">POST /api/media/analyze-produce</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="86.9102" y="231.2969">(multipart/form-data: image,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="86.9102" y="241.2969">Authorization: Bearer &lt;JWT&gt;)</text></g><g class="message" data-participant-1="Controller" data-participant-2="AiVision"><polygon fill="#181818" points="161.9102,273.2969,171.9102,277.2969,161.9102,281.2969,165.9102,277.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="149.9102" x2="167.9102" y1="277.2969" y2="277.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="156.9102" y="265.2969">analyzeProduce(imagePath)</text></g><g class="message" data-participant-1="AiVision" data-participant-2="AiVision"><line style="stroke:#181818;stroke-width:1;" x1="183.9102" x2="225.9102" y1="311.2969" y2="311.2969"/><line style="stroke:#181818;stroke-width:1;" x1="225.9102" x2="225.9102" y1="311.2969" y2="324.2969"/><line style="stroke:#181818;stroke-width:1;" x1="184.9102" x2="225.9102" y1="324.2969" y2="324.2969"/><polygon fill="#181818" points="194.9102,320.2969,184.9102,324.2969,194.9102,328.2969,190.9102,324.2969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="190.9102" y="289.2969">Read image file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="190.9102" y="299.2969">Encode to base64</text></g><g class="message" data-participant-1="AiVision" data-participant-2="Gemini"><polygon fill="#181818" points="231.9102,364.2969,241.9102,368.2969,231.9102,372.2969,235.9102,368.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="183.9102" x2="237.9102" y1="368.2969" y2="368.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="190.9102" y="336.2969">POST /v1beta/models/gemini-2.5-flash:generateContent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="190.9102" y="346.2969">(base64 image data,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="190.9102" y="356.2969">prompt: "Identify this produce")</text></g><g class="message" data-participant-1="Gemini" data-participant-2="AiVision"><polygon fill="#181818" points="194.9102,408.2969,184.9102,412.2969,194.9102,416.2969,190.9102,412.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="188.9102" x2="247.9102" y1="412.2969" y2="412.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="200.9102" y="380.2969">JSON response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="200.9102" y="390.2969">{name: "apple", category: "fruit",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="200.9102" y="400.2969">confidence: 0.95, nutrients: {...}}</text></g><g class="message" data-participant-1="AiVision" data-participant-2="Controller"><polygon fill="#181818" points="160.9102,442.2969,150.9102,446.2969,160.9102,450.2969,156.9102,446.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="154.9102" x2="177.9102" y1="446.2969" y2="446.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="166.9102" y="424.2969">ProduceAnalysis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="166.9102" y="434.2969">(name, category, nutrients)</text></g><path d="M10,461.2969 L74.4429,461.2969 L74.4429,468.4297 L64.4429,478.4297 L10,478.4297 L10,461.2969" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="665.2656" style="stroke:#000000;stroke-width:1.5;" width="359.9102" x="10" y="461.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="477.4297">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="0" x="89.4429" y="463.2969">[High confidence identification (confidence &#8805; 0.90)]</text><g class="message" data-participant-1="Controller" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="255.9102,490.4297,265.9102,494.4297,255.9102,498.4297,259.9102,494.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="149.9102" x2="261.9102" y1="494.4297" y2="494.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="156.9102" y="482.4297">findByName(name)</text></g><g class="message" data-participant-1="FoodTypeModel" data-participant-2="DB"><polygon fill="#181818" points="314.9102,514.4297,324.9102,518.4297,314.9102,522.4297,318.9102,518.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="277.9102" x2="320.9102" y1="518.4297" y2="518.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="284.9102" y="506.4297">db.foodtypes.findOne({name: "apple"})</text></g><g class="message" data-participant-1="DB" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="288.9102,538.4297,278.9102,542.4297,288.9102,546.4297,284.9102,542.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="282.9102" x2="330.9102" y1="542.4297" y2="542.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="294.9102" y="530.4297">FoodType or null</text></g><path d="M127.9102,557.4297 L192.353,557.4297 L192.353,564.5625 L182.353,574.5625 L127.9102,574.5625 L127.9102,557.4297" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="173.1328" style="stroke:#000000;stroke-width:1.5;" width="232" x="127.9102" y="557.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="142.9102" y="573.5625">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="0" x="207.353" y="559.4297">[FoodType exists]</text><g class="message" data-participant-1="FoodTypeModel" data-participant-2="Controller"><polygon fill="#181818" points="160.9102,586.5625,150.9102,590.5625,160.9102,594.5625,156.9102,590.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="154.9102" x2="271.9102" y1="590.5625" y2="590.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="166.9102" y="578.5625">Existing FoodType(id, name, nutrients)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="127.9102" x2="359.9102" y1="599.5625" y2="599.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="0" x="132.9102" y="599.5625">[FoodType not found]</text><g class="message" data-participant-1="FoodTypeModel" data-participant-2="Controller"><polygon fill="#181818" points="160.9102,622.5625,150.9102,626.5625,160.9102,630.5625,156.9102,626.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="154.9102" x2="271.9102" y1="626.5625" y2="626.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="166.9102" y="614.5625">null</text></g><g class="message" data-participant-1="Controller" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="255.9102,646.5625,265.9102,650.5625,255.9102,654.5625,259.9102,650.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="149.9102" x2="261.9102" y1="650.5625" y2="650.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="156.9102" y="638.5625">create({name, nutrients, shelfLifeDays})</text></g><g class="message" data-participant-1="FoodTypeModel" data-participant-2="DB"><polygon fill="#181818" points="314.9102,670.5625,324.9102,674.5625,314.9102,678.5625,318.9102,674.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="277.9102" x2="320.9102" y1="674.5625" y2="674.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="284.9102" y="662.5625">db.foodtypes.insertOne({name: "apple", nutrients: {...}})</text></g><g class="message" data-participant-1="DB" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="288.9102,694.5625,278.9102,698.5625,288.9102,702.5625,284.9102,698.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="282.9102" x2="330.9102" y1="698.5625" y2="698.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="294.9102" y="686.5625">Created FoodType document</text></g><g class="message" data-participant-1="FoodTypeModel" data-participant-2="Controller"><polygon fill="#181818" points="160.9102,718.5625,150.9102,722.5625,160.9102,726.5625,156.9102,722.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="154.9102" x2="271.9102" y1="722.5625" y2="722.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="166.9102" y="710.5625">New FoodType(id, name, nutrients)</text></g><g class="message" data-participant-1="Controller" data-participant-2="FoodItemModel"><polygon fill="#181818" points="279.9102,749.5625,289.9102,753.5625,279.9102,757.5625,283.9102,753.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="149.9102" x2="285.9102" y1="753.5625" y2="753.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="156.9102" y="741.5625">create({userId, typeId, expirationDate, percentLeft: 100})</text></g><g class="message" data-participant-1="FoodItemModel" data-participant-2="DB"><polygon fill="#181818" points="314.9102,783.5625,324.9102,787.5625,314.9102,791.5625,318.9102,787.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="301.9102" x2="320.9102" y1="787.5625" y2="787.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="308.9102" y="765.5625">db.fooditems.insertOne(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="308.9102" y="775.5625">{userId, typeId, expirationDate, percentLeft: 100})</text></g><g class="message" data-participant-1="DB" data-participant-2="FoodItemModel"><polygon fill="#181818" points="312.9102,807.5625,302.9102,811.5625,312.9102,815.5625,308.9102,811.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="306.9102" x2="330.9102" y1="811.5625" y2="811.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="318.9102" y="799.5625">Created FoodItem document</text></g><g class="message" data-participant-1="FoodItemModel" data-participant-2="Controller"><polygon fill="#181818" points="160.9102,831.5625,150.9102,835.5625,160.9102,839.5625,156.9102,835.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="154.9102" x2="295.9102" y1="835.5625" y2="835.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="166.9102" y="823.5625">FoodItem(id, userId, typeId, expirationDate)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="90.9102,875.5625,80.9102,879.5625,90.9102,883.5625,86.9102,879.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="84.9102" x2="143.9102" y1="879.5625" y2="879.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="96.9102" y="847.5625">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="96.9102" y="857.5625">FridgeItem</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="96.9102" y="867.5625">{id, name, nutrients, expirationDate, percentLeft, image}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,909.5625,39.9551,913.5625,49.9551,917.5625,45.9551,913.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="68.9102" y1="913.5625" y2="913.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="891.5625">Display confirmation screen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="901.5625">with identified food details</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="57.9102,933.5625,67.9102,937.5625,57.9102,941.5625,61.9102,937.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="63.9102" y1="937.5625" y2="937.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="45.9551" y="925.5625">Clicks "Confirm"</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="79.9102" x2="121.9102" y1="961.5625" y2="961.5625"/><line style="stroke:#181818;stroke-width:1;" x1="121.9102" x2="121.9102" y1="961.5625" y2="974.5625"/><line style="stroke:#181818;stroke-width:1;" x1="80.9102" x2="121.9102" y1="974.5625" y2="974.5625"/><polygon fill="#181818" points="90.9102,970.5625,80.9102,974.5625,90.9102,978.5625,86.9102,974.5625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="86.9102" y="949.5625">Navigate to fridge screen</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1004.5625,39.9551,1008.5625,49.9551,1012.5625,45.9551,1008.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="68.9102" y1="1008.5625" y2="1008.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="986.5625">Show updated fridge list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="996.5625">with new item</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="369.9102" y1="1017.5625" y2="1017.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="0" x="15" y="1017.5625">[Low confidence or not food (confidence &lt; 0.90)]</text><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="90.9102,1060.5625,80.9102,1064.5625,90.9102,1068.5625,86.9102,1064.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="84.9102" x2="143.9102" y1="1064.5625" y2="1064.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="96.9102" y="1032.5625">400 Bad Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="96.9102" y="1042.5625">{error: "Cannot identify food item",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="96.9102" y="1052.5625">confidence: 0.45}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1114.5625,39.9551,1118.5625,49.9551,1122.5625,45.9551,1118.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="68.9102" y1="1118.5625" y2="1118.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="1076.5625">Display error:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="1086.5625">"Could not identify food"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="1096.5625">Offer alternative methods</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="55.9551" y="1106.5625">(barcode scan or manual selection)</text></g><!--SRC=[hLRRRjj647tdLmpqP06wER0BX0W2M5BSEhKj8tRR5xsikKDf4NANtLtAKGnzG3-aFzOlwUnIl4gs2wHvSCJbSERCERCpOuLD47up23D6Vqv3k5Ohk5IAmqOmk4hP2eE0HLPfPwM3Z6ah8f4nQQ5tgPMqAFbIdbn8hfNW_Hum0-Lvs_e6kM0pUgDLag3sblLZs_P2_2wCKF8UzKP4w6tBixRbpvWAAU3YxieR5OyTc9JEmpR36yKnAG0sJmwDhoocRUFg9E3CiaV7LUz6oPMQJxtDV1e4ZXyOVgoo3-4U4uoieNGuzsvwIyaaXsYjb443mj4BAhCkAo9PR9Z5chtoHzlf8aDf868fQdOavWFxIfwpjR8AL0onar8G-fQtclOGxXRt3p1ccHYdJg0naopPViTXfXNF8oHjqponmf4qZfLEXuw1iC0-MCgBtAwL5j-PIoA4AJ9Da3vy_kFXOx_EgQ5pKFzsK4fLGzW7lYlYdlW0Tyok6swg4YX_j3ryGSRtfCOY8UYVP4IY0L7X9FlfhFLTKIeb0PlJHxHid3gHpNZbtmtVZSw7SSBCEboX9BujpZo9bbWfFEx3EKw83E8ipMm8lIjEHYBUWbqBKgD8gTV8P5-d- -eTjjBuVB-u1OqcKz9G4i-Ij2QVBCiIx0r8UeihfRTq5EjSs1u5ZfIC1SMCo70oUdy-09bRBGY42U5vD1hjTW77RlIQZMvD580ld2966ChMOQX3DzptctuhVGAMMFX5hDPG8mDHa28YNojmqdZrprz_EzoJVW3qhrqXhSiQahAIJxUtXCU3AhweBq_hPhjNhHFdRpuDWJ-EtCsmT6v6pkD2uacRw5t7CrrnzpoVUhOweCf7e3ufywI8t236zGVlZMYfRF6RCDRuyoD0Ev9ySiP2hYgp4y591YzBGupIMIFs8ILKuVKnI6MfJUJKSFuRaYg_D-EygMMaaRuiY6-aCG2pnYI-5Z7EsTRiwhJU2FQsreAkbBQ7QX-vC4UYxclWvJgO-OHuJIvNKPwIrsE4DRozplWjFlqlifF4BzolQhxLckH4r1N5Shov__5R9hI_kNDwFu0CTKJ1hp6cXdSwcUoEtCHwR9P9LYSTTTo8Qgf3RUz70HnUs4QMJQ7SSLkeGv4ws3i2bM-zEA_ZxWT7TAfvEj2dDTpVJIQm-7KfBxNWAtHV4Kz72k9LiWR5pDfrWJHcjC-usXS8WjipGfWBaoLiM_HqdHPjt531e5pA9s7NLOidPltcmMccYgJeSOUxoYmHqLTQZsQ5lrudRjFqbct4og6aMHxxxFU1Ny9wlrPFa6VSgxp_8g4MkWSgwKhvjIZmpV2QZ1lZo7LntnKfXUQO-l32a6f1FIEHfhI8VC4_StG1dr5hHP1wCoQTMr4k1zLoTZZ2pyv_G9yYtb8IiNd2uI0chQ6BE2RWD8vGIz9nWv0YBNBS-Cr6-xN9H4mwAb8cSvQ0yTiiITuFN2Tfbl0Uohy0]--></g></svg>