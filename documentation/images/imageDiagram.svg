<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1482px" preserveAspectRatio="none" style="width:1993px;height:1482px;background:#FFFFFF;" version="1.1" viewBox="0 0 1993 1482" width="1993px" zoomAndPan="magnify"><title>Use Case 1: Log Food via Image</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250.8447" x="872.2412" y="27.9951">Use Case 1: Log Food via Image</text><g><title>Frontend</title><rect fill="#FFFFFF" height="1226.9844" style="stroke:#181818;stroke-width:1;" width="10" x="293.083" y="164.8594"/></g><g><title>MediaController</title><rect fill="#FFFFFF" height="772.7891" style="stroke:#181818;stroke-width:1;" width="10" x="704.6416" y="295.5234"/></g><g><title>AiVisionService</title><rect fill="#FFFFFF" height="220.3281" style="stroke:#181818;stroke-width:1;" width="10" x="918.2739" y="324.6563"/></g><g><title>Gemini API</title><rect fill="#FFFFFF" height="59.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1311.915" y="441.3203"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="111.5313" style="stroke:#181818;stroke-width:1;" width="10" x="1429.311" y="598.25"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1429.311" y="782.8516"/></g><g><title>FoodItemModel</title><rect fill="#FFFFFF" height="102.5313" style="stroke:#181818;stroke-width:1;" width="10" x="1562.5186" y="906.3828"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1924.6499" y="627.3828"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1924.6499" y="811.9844"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1924.6499" y="950.6484"/></g><rect fill="none" height="824.8594" style="stroke:#000000;stroke-width:1.5;" width="1976.3271" x="10" y="559.9844"/><rect fill="none" height="206.7344" style="stroke:#000000;stroke-width:1.5;" width="1339.2959" x="637.0313" y="671.5156"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="34.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="118.5938" y2="1401.8438"/></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="294.083" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="297.4038" x2="297.4038" y1="118.5938" y2="1401.8438"/></g><g><title>MediaController</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="705.6416" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="709.0313" x2="709.0313" y1="118.5938" y2="1401.8438"/></g><g><title>AiVisionService</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="919.2739" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="922.6255" x2="922.6255" y1="118.5938" y2="1401.8438"/></g><g><title>Gemini API</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="1312.915" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1316.7397" x2="1316.7397" y1="118.5938" y2="1401.8438"/></g><g><title>FoodTypeModel</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="1430.311" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1434.0903" x2="1434.0903" y1="118.5938" y2="1401.8438"/></g><g><title>FoodItemModel</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="1563.5186" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1566.5317" x2="1566.5317" y1="118.5938" y2="1401.8438"/></g><g><title>MongoDB</title><rect fill="#000000" fill-opacity="0.00000" height="1283.25" width="8" x="1925.6499" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1928.9727" x2="1928.9727" y1="118.5938" y2="1401.8438"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="115.292">User</text><ellipse cx="38.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,58.7969 L38.9551,85.7969 M25.9551,66.7969 L51.9551,66.7969 M38.9551,85.7969 L25.9551,100.7969 M38.9551,85.7969 L51.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1413.8389">User</text><ellipse cx="38.9551" cy="1425.6406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1433.6406 L38.9551,1460.6406 M25.9551,1441.6406 L51.9551,1441.6406 M38.9551,1460.6406 L25.9551,1475.6406 M38.9551,1460.6406 L51.9551,1475.6406" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79.3584" x="258.4038" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="266.5283" y="90.9951">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="265.4038" y="107.292">(Android)</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79.3584" x="258.4038" y="1400.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="266.5283" y="1420.8389">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="265.4038" y="1437.1357">(Android)</text></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2207" x="647.0313" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2207" x="654.0313" y="107.292">MediaController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2207" x="647.0313" y="1400.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2207" x="654.0313" y="1420.8389">MediaController</text></g><g class="participant participant-head" data-participant="AiVision"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2969" x="862.6255" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2969" x="869.6255" y="107.292">AiVisionService</text></g><g class="participant participant-tail" data-participant="AiVision"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2969" x="862.6255" y="1400.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2969" x="869.6255" y="1420.8389">AiVisionService</text></g><g class="participant participant-head" data-participant="Gemini"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.3506" x="1271.7397" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.3506" x="1278.7397" y="107.292">Gemini API</text></g><g class="participant participant-tail" data-participant="Gemini"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.3506" x="1271.7397" y="1400.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.3506" x="1278.7397" y="1420.8389">Gemini API</text></g><g class="participant participant-head" data-participant="FoodTypeModel"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.4414" x="1372.0903" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.4414" x="1379.0903" y="107.292">FoodTypeModel</text></g><g class="participant participant-tail" data-participant="FoodTypeModel"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.4414" x="1372.0903" y="1400.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.4414" x="1379.0903" y="1420.8389">FoodTypeModel</text></g><g class="participant participant-head" data-participant="FoodItemModel"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.9736" x="1506.5317" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.9736" x="1513.5317" y="107.292">FoodItemModel</text></g><g class="participant participant-tail" data-participant="FoodItemModel"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.9736" x="1506.5317" y="1400.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.9736" x="1513.5317" y="1420.8389">FoodItemModel</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.3545" x="1892.9727" y="115.292">MongoDB</text><path d="M1911.6499,66.2969 C1911.6499,56.2969 1929.6499,56.2969 1929.6499,56.2969 C1929.6499,56.2969 1947.6499,56.2969 1947.6499,66.2969 L1947.6499,92.2969 C1947.6499,102.2969 1929.6499,102.2969 1929.6499,102.2969 C1929.6499,102.2969 1911.6499,102.2969 1911.6499,92.2969 L1911.6499,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1911.6499,66.2969 C1911.6499,76.2969 1929.6499,76.2969 1929.6499,76.2969 C1929.6499,76.2969 1947.6499,76.2969 1947.6499,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.3545" x="1892.9727" y="1413.8389">MongoDB</text><path d="M1911.6499,1427.1406 C1911.6499,1417.1406 1929.6499,1417.1406 1929.6499,1417.1406 C1929.6499,1417.1406 1947.6499,1417.1406 1947.6499,1427.1406 L1947.6499,1453.1406 C1947.6499,1463.1406 1929.6499,1463.1406 1929.6499,1463.1406 C1929.6499,1463.1406 1911.6499,1463.1406 1911.6499,1453.1406 L1911.6499,1427.1406" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1911.6499,1427.1406 C1911.6499,1437.1406 1929.6499,1437.1406 1929.6499,1437.1406 C1929.6499,1437.1406 1947.6499,1437.1406 1947.6499,1427.1406" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>Frontend</title><rect fill="#FFFFFF" height="1226.9844" style="stroke:#181818;stroke-width:1;" width="10" x="293.083" y="164.8594"/></g><g><title>MediaController</title><rect fill="#FFFFFF" height="772.7891" style="stroke:#181818;stroke-width:1;" width="10" x="704.6416" y="295.5234"/></g><g><title>AiVisionService</title><rect fill="#FFFFFF" height="220.3281" style="stroke:#181818;stroke-width:1;" width="10" x="918.2739" y="324.6563"/></g><g><title>Gemini API</title><rect fill="#FFFFFF" height="59.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1311.915" y="441.3203"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="111.5313" style="stroke:#181818;stroke-width:1;" width="10" x="1429.311" y="598.25"/></g><g><title>FoodTypeModel</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1429.311" y="782.8516"/></g><g><title>FoodItemModel</title><rect fill="#FFFFFF" height="102.5313" style="stroke:#181818;stroke-width:1;" width="10" x="1562.5186" y="906.3828"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1924.6499" y="627.3828"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1924.6499" y="811.9844"/></g><g><title>MongoDB</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1924.6499" y="950.6484"/></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="281.083,160.8594,291.083,164.8594,281.083,168.8594,285.083,164.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="287.083" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.1348" x="45.9551" y="144.6606">Selects "Add Food"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.2915" x="45.9551" y="159.7935">and chooses image option</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="303.083" x2="345.083" y1="193.9922" y2="193.9922"/><line style="stroke:#181818;stroke-width:1;" x1="345.083" x2="345.083" y1="193.9922" y2="206.9922"/><line style="stroke:#181818;stroke-width:1;" x1="304.083" x2="345.083" y1="206.9922" y2="206.9922"/><polygon fill="#181818" points="314.083,202.9922,304.083,206.9922,314.083,210.9922,310.083,206.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.7134" x="310.083" y="188.9263">Opens camera</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="281.083,232.125,291.083,236.125,281.083,240.125,285.083,236.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="287.083" y1="236.125" y2="236.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.8682" x="45.9551" y="231.0591">Takes photo of food item</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Controller"><polygon fill="#181818" points="692.6416,291.5234,702.6416,295.5234,692.6416,299.5234,696.6416,295.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.083" x2="698.6416" y1="295.5234" y2="295.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.0352" x="310.083" y="260.1919">POST /api/media/analyze-produce</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.9829" x="310.083" y="275.3247">(multipart/form-data: image,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.7715" x="310.083" y="290.4575">Authorization: Bearer &lt;JWT&gt;)</text></g><g class="message" data-participant-1="Controller" data-participant-2="AiVision"><polygon fill="#181818" points="906.2739,320.6563,916.2739,324.6563,906.2739,328.6563,910.2739,324.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="714.6416" x2="912.2739" y1="324.6563" y2="324.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.8506" x="721.6416" y="319.5903">analyzeProduce(imagePath)</text></g><g class="message" data-participant-1="AiVision" data-participant-2="AiVision"><line style="stroke:#181818;stroke-width:1;" x1="928.2739" x2="970.2739" y1="368.9219" y2="368.9219"/><line style="stroke:#181818;stroke-width:1;" x1="970.2739" x2="970.2739" y1="368.9219" y2="381.9219"/><line style="stroke:#181818;stroke-width:1;" x1="929.2739" x2="970.2739" y1="381.9219" y2="381.9219"/><polygon fill="#181818" points="939.2739,377.9219,929.2739,381.9219,939.2739,385.9219,935.2739,381.9219" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.8037" x="935.2739" y="348.7231">Read image file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.6509" x="935.2739" y="363.856">Encode to base64</text></g><g class="message" data-participant-1="AiVision" data-participant-2="Gemini"><polygon fill="#181818" points="1299.915,437.3203,1309.915,441.3203,1299.915,445.3203,1303.915,441.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="928.2739" x2="1305.915" y1="441.3203" y2="441.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364.6411" x="935.2739" y="405.9888">POST /v1beta/models/gemini-2.5-flash:generateContent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7734" x="935.2739" y="421.1216">(base64 image data,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.5811" x="935.2739" y="436.2544">prompt: "Identify this produce")</text></g><g class="message" data-participant-1="Gemini" data-participant-2="AiVision"><polygon fill="#181818" points="939.2739,496.7188,929.2739,500.7188,939.2739,504.7188,935.2739,500.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="933.2739" x2="1315.915" y1="500.7188" y2="500.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5068" x="945.2739" y="465.3872">JSON response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.8799" x="945.2739" y="480.52">{name: "apple", category: "fruit",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.2476" x="945.2739" y="495.6528">confidence: 0.95, nutrients: {...}}</text></g><g class="message" data-participant-1="AiVision" data-participant-2="Controller"><polygon fill="#181818" points="725.6416,540.9844,715.6416,544.9844,725.6416,548.9844,721.6416,544.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="719.6416" x2="922.2739" y1="544.9844" y2="544.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3359" x="731.6416" y="524.7856">ProduceAnalysis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.6323" x="731.6416" y="539.9185">(name, category, nutrients)</text></g><path d="M10,559.9844 L74.4429,559.9844 L74.4429,567.1172 L64.4429,577.1172 L10,577.1172 L10,559.9844" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="824.8594" style="stroke:#000000;stroke-width:1.5;" width="1976.3271" x="10" y="559.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="573.0513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="322.3999" x="89.4429" y="572.1948">[High confidence identification (confidence &#8805; 0.90)]</text><g class="message" data-participant-1="Controller" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="1417.311,594.25,1427.311,598.25,1417.311,602.25,1421.311,598.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="714.6416" x2="1423.311" y1="598.25" y2="598.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6548" x="721.6416" y="593.1841">findByName(name)</text></g><g class="message" data-participant-1="FoodTypeModel" data-participant-2="DB"><polygon fill="#181818" points="1912.6499,623.3828,1922.6499,627.3828,1912.6499,631.3828,1916.6499,627.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1439.311" x2="1918.6499" y1="627.3828" y2="627.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.5713" x="1446.311" y="622.3169">db.foodtypes.findOne({name: "apple"})</text></g><g class="message" data-participant-1="DB" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="1450.311,652.5156,1440.311,656.5156,1450.311,660.5156,1446.311,656.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1444.311" x2="1928.6499" y1="656.5156" y2="656.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7861" x="1456.311" y="651.4497">FoodType or null</text></g><path d="M637.0313,671.5156 L701.4741,671.5156 L701.4741,678.6484 L691.4741,688.6484 L637.0313,688.6484 L637.0313,671.5156" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="206.7344" style="stroke:#000000;stroke-width:1.5;" width="1339.2959" x="637.0313" y="671.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="652.0313" y="684.5825">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.0742" x="716.4741" y="683.7261">[FoodType exists]</text><g class="message" data-participant-1="FoodTypeModel" data-participant-2="Controller"><polygon fill="#181818" points="725.6416,705.7813,715.6416,709.7813,725.6416,713.7813,721.6416,709.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="719.6416" x2="1433.311" y1="709.7813" y2="709.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.189" x="731.6416" y="704.7153">Existing FoodType(id, name, nutrients)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="637.0313" x2="1976.3271" y1="718.7813" y2="718.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="134.75" x="642.0313" y="728.9917">[FoodType not found]</text><g class="message" data-participant-1="FoodTypeModel" data-participant-2="Controller"><polygon fill="#181818" points="725.6416,749.7188,715.6416,753.7188,725.6416,757.7188,721.6416,753.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="719.6416" x2="1433.311" y1="753.7188" y2="753.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.7021" x="731.6416" y="748.6528">null</text></g><g class="message" data-participant-1="Controller" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="1417.311,778.8516,1427.311,782.8516,1417.311,786.8516,1421.311,782.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="714.6416" x2="1423.311" y1="782.8516" y2="782.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.3442" x="721.6416" y="777.7856">create({name, nutrients, shelfLifeDays})</text></g><g class="message" data-participant-1="FoodTypeModel" data-participant-2="DB"><polygon fill="#181818" points="1912.6499,807.9844,1922.6499,811.9844,1912.6499,815.9844,1916.6499,811.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1439.311" x2="1918.6499" y1="811.9844" y2="811.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="377.311" x="1446.311" y="806.9185">db.foodtypes.insertOne({name: "apple", nutrients: {...}})</text></g><g class="message" data-participant-1="DB" data-participant-2="FoodTypeModel"><polygon fill="#181818" points="1450.311,837.1172,1440.311,841.1172,1450.311,845.1172,1446.311,841.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1444.311" x2="1928.6499" y1="841.1172" y2="841.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.1094" x="1456.311" y="836.0513">Created FoodType document</text></g><g class="message" data-participant-1="FoodTypeModel" data-participant-2="Controller"><polygon fill="#181818" points="725.6416,866.25,715.6416,870.25,725.6416,874.25,721.6416,870.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="719.6416" x2="1433.311" y1="870.25" y2="870.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.0518" x="731.6416" y="865.1841">New FoodType(id, name, nutrients)</text></g><g class="message" data-participant-1="Controller" data-participant-2="FoodItemModel"><polygon fill="#181818" points="1550.5186,902.3828,1560.5186,906.3828,1550.5186,910.3828,1554.5186,906.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="714.6416" x2="1556.5186" y1="906.3828" y2="906.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.7549" x="721.6416" y="901.3169">create({userId, typeId, expirationDate, percentLeft: 100})</text></g><g class="message" data-participant-1="FoodItemModel" data-participant-2="DB"><polygon fill="#181818" points="1912.6499,946.6484,1922.6499,950.6484,1912.6499,954.6484,1916.6499,950.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1572.5186" x2="1918.6499" y1="950.6484" y2="950.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.2534" x="1579.5186" y="930.4497">db.fooditems.insertOne(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.1313" x="1579.5186" y="945.5825">{userId, typeId, expirationDate, percentLeft: 100})</text></g><g class="message" data-participant-1="DB" data-participant-2="FoodItemModel"><polygon fill="#181818" points="1583.5186,975.7813,1573.5186,979.7813,1583.5186,983.7813,1579.5186,979.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1577.5186" x2="1928.6499" y1="979.7813" y2="979.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8179" x="1589.5186" y="974.7153">Created FoodItem document</text></g><g class="message" data-participant-1="FoodItemModel" data-participant-2="Controller"><polygon fill="#181818" points="725.6416,1004.9141,715.6416,1008.9141,725.6416,1012.9141,721.6416,1008.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="719.6416" x2="1566.5186" y1="1008.9141" y2="1008.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286.438" x="731.6416" y="1003.8481">FoodItem(id, userId, typeId, expirationDate)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="314.083,1064.3125,304.083,1068.3125,314.083,1072.3125,310.083,1068.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="308.083" x2="708.6416" y1="1068.3125" y2="1068.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="320.083" y="1032.981">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.5288" x="320.083" y="1048.1138">FridgeItem</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="377.5586" x="320.083" y="1063.2466">{id, name, nutrients, expirationDate, percentLeft, image}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1108.5781,39.9551,1112.5781,49.9551,1116.5781,45.9551,1112.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="292.083" y1="1112.5781" y2="1112.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.0889" x="55.9551" y="1092.3794">Display confirmation screen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.272" x="55.9551" y="1107.5122">with identified food details</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="281.083,1137.7109,291.083,1141.7109,281.083,1145.7109,285.083,1141.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="287.083" y1="1141.7109" y2="1141.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.3076" x="45.9551" y="1136.645">Clicks "Confirm"</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="303.083" x2="345.083" y1="1170.8438" y2="1170.8438"/><line style="stroke:#181818;stroke-width:1;" x1="345.083" x2="345.083" y1="1170.8438" y2="1183.8438"/><line style="stroke:#181818;stroke-width:1;" x1="304.083" x2="345.083" y1="1183.8438" y2="1183.8438"/><polygon fill="#181818" points="314.083,1179.8438,304.083,1183.8438,314.083,1187.8438,310.083,1183.8438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.293" x="310.083" y="1165.7778">Navigate to fridge screen</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1224.1094,39.9551,1228.1094,49.9551,1232.1094,45.9551,1228.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="292.083" y1="1228.1094" y2="1228.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.6597" x="55.9551" y="1207.9106">Show updated fridge list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.0854" x="55.9551" y="1223.0435">with new item</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1986.3271" y1="1237.1094" y2="1237.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="304.627" x="15" y="1247.3198">[Low confidence or not food (confidence &lt; 0.90)]</text><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="314.083,1298.3125,304.083,1302.3125,314.083,1306.3125,310.083,1302.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="308.083" x2="708.6416" y1="1302.3125" y2="1302.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.6045" x="320.083" y="1266.981">400 Bad Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.0166" x="320.083" y="1282.1138">{error: "Cannot identify food item",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8921" x="320.083" y="1297.2466">confidence: 0.45}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1372.8438,39.9551,1376.8438,49.9551,1380.8438,45.9551,1376.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="292.083" y1="1376.8438" y2="1376.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.4165" x="55.9551" y="1326.3794">Display error:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.5957" x="55.9551" y="1341.5122">"Could not identify food"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.5938" x="55.9551" y="1356.645">Offer alternative methods</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.1279" x="55.9551" y="1371.7778">(barcode scan or manual selection)</text></g><!--SRC=[hLRRRjj647tdLmpqP06wER0BX0W2M5BSEhKj8tRR5xsikKDf4NANtLtAKGnzG3-aFzOlwUnIl4gs2wHvSCJbSERCERCpOuLD47up23D6Vqv3k5Ohk5IAmqOmk4hP2eE0HLPfPwM3Z6ah8f4nQQ5tgPMqAFbIdbn8hfNW_Hum0-Lvs_e6kM0pUgDLag3sblLZs_P2_2wCKF8UzKP4w6tBixRbpvWAAU3YxieR5OyTc9JEmpR36yKnAG0sJmwDhoocRUFg9E3CiaV7LUz6oPMQJxtDV1e4ZXyOVgoo3-4U4uoieNGuzsvwIyaaXsYjb443mj4BAhCkAo9PR9Z5chtoHzlf8aDf868fQdOavWFxIfwpjR8AL0onar8G-fQtclOGxXRt3p1ccHYdJg0naopPViTXfXNF8oHjqponmf4qZfLEXuw1iC0-MCgBtAwL5j-PIoA4AJ9Da3vy_kFXOx_EgQ5pKFzsK4fLGzW7lYlYdlW0Tyok6swg4YX_j3ryGSRtfCOY8UYVP4IY0L7X9FlfhFLTKIeb0PlJHxHid3gHpNZbtmtVZSw7SSBCEboX9BujpZo9bbWfFEx3EKw83E8ipMm8lIjEHYBUWbqBKgD8gTV8P5-d- -eTjjBuVB-u1OqcKz9G4i-Ij2QVBCiIx0r8UeihfRTq5EjSs1u5ZfIC1SMCo70oUdy-09bRBGY42U5vD1hjTW77RlIQZMvD580ld2966ChMOQX3DzptctuhVGAMMFX5hDPG8mDHa28YNojmqdZrprz_EzoJVW3qhrqXhSiQahAIJxUtXCU3AhweBq_hPhjNhHFdRpuDWJ-EtCsmT6v6pkD2uacRw5t7CrrnzpoVUhOweCf7e3ufywI8t236zGVlZMYfRF6RCDRuyoD0Ev9ySiP2hYgp4y591YzBGupIMIFs8ILKuVKnI6MfJUJKSFuRaYg_D-EygMMaaRuiY6-aCG2pnYI-5Z7EsTRiwhJU2FQsreAkbBQ7QX-vC4UYxclWvJgO-OHuJIvNKPwIrsE4DRozplWjFlqlifF4BzolQhxLckH4r1N5Shov__5R9hI_kNDwFu0CTKJ1hp6cXdSwcUoEtCHwR9P9LYSTTTo8Qgf3RUz70HnUs4QMJQ7SSLkeGv4ws3i2bM-zEA_ZxWT7TAfvEj2dDTpVJIQm-7KfBxNWAtHV4Kz72k9LiWR5pDfrWJHcjC-usXS8WjipGfWBaoLiM_HqdHPjt531e5pA9s7NLOidPltcmMccYgJeSOUxoYmHqLTQZsQ5lrudRjFqbct4og6aMHxxxFU1Ny9wlrPFa6VSgxp_8g4MkWSgwKhvjIZmpV2QZ1lZo7LntnKfXUQO-l32a6f1FIEHfhI8VC4_StG1dr5hHP1wCoQTMr4k1zLoTZZ2pyv_G9yYtb8IiNd2uI0chQ6BE2RWD8vGIz9nWv0YBNBS-Cr6-xN9H4mwAb8cSvQ0yTiiITuFN2Tfbl0Uohy0]--></g></svg>