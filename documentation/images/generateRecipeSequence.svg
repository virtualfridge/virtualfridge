<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1873px" preserveAspectRatio="none" style="width:2047px;height:1873px;background:#FFFFFF;" version="1.1" viewBox="0 0 2047 1873" width="2047px" zoomAndPan="magnify"><title>Use Case 4: Generate Recipe Suggestions</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="329.6631" x="854.7278" y="27.9951">Use Case 4: Generate Recipe Suggestions</text><g><title>Frontend</title><rect fill="#FFFFFF" height="817.0547" style="stroke:#181818;stroke-width:1;" width="10" x="274.8525" y="164.8594"/></g><g><title>Frontend</title><rect fill="#FFFFFF" height="572.3203" style="stroke:#181818;stroke-width:1;" width="10" x="274.8525" y="1046.1797"/></g><g><title>RecipeController</title><rect fill="#FFFFFF" height="375.9922" style="stroke:#181818;stroke-width:1;" width="10" x="619.4961" y="325.6563"/></g><g><title>RecipeController</title><rect fill="#FFFFFF" height="366.125" style="stroke:#181818;stroke-width:1;" width="10" x="619.4961" y="1134.7109"/></g><g><title>RecipeService</title><rect fill="#FFFFFF" height="245.3281" style="stroke:#181818;stroke-width:1;" width="10" x="918.7139" y="412.0547"/></g><g><title>TheMealDB API</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="1244.0015" y="465.3203"/></g><g><title>AiRecipeService</title><rect fill="#FFFFFF" height="247.3281" style="stroke:#181818;stroke-width:1;" width="10" x="1377.4106" y="1163.8438"/></g><g><title>Gemini API</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="1827.7407" y="1280.5078"/></g><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="461.9634" x="857.1294" y="427.0547"/><rect fill="none" height="370.9297" style="stroke:#000000;stroke-width:1.5;" width="980.2983" x="10" y="603.9844"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="34.9551" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="118.5938" y2="1792.6953"/></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="275.8525" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="279.1733" x2="279.1733" y1="118.5938" y2="1792.6953"/></g><g><title>RecipeController</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="620.4961" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="624.1958" x2="624.1958" y1="118.5938" y2="1792.6953"/></g><g><title>RecipeService</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="919.7139" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="923.1294" x2="923.1294" y1="118.5938" y2="1792.6953"/></g><g><title>TheMealDB API</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="1245.0015" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1248.9102" x2="1248.9102" y1="118.5938" y2="1792.6953"/></g><g><title>AiRecipeService</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="1378.4106" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1382.0928" x2="1382.0928" y1="118.5938" y2="1792.6953"/></g><g><title>Gemini API</title><rect fill="#000000" fill-opacity="0.00000" height="1674.1016" width="8" x="1828.7407" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1832.5654" x2="1832.5654" y1="118.5938" y2="1792.6953"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="115.292">User</text><ellipse cx="38.9551" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,58.7969 L38.9551,85.7969 M25.9551,66.7969 L51.9551,66.7969 M38.9551,85.7969 L25.9551,100.7969 M38.9551,85.7969 L51.9551,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1804.6904">User</text><ellipse cx="38.9551" cy="1816.4922" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1824.4922 L38.9551,1851.4922 M25.9551,1832.4922 L51.9551,1832.4922 M38.9551,1851.4922 L25.9551,1866.4922 M38.9551,1851.4922 L51.9551,1866.4922" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79.3584" x="240.1733" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="248.2979" y="90.9951">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="247.1733" y="107.292">(Android)</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79.3584" x="240.1733" y="1791.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="248.2979" y="1811.6904">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="247.1733" y="1827.9873">(Android)</text></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.6006" x="559.1958" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.6006" x="566.1958" y="107.292">RecipeController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.6006" x="559.1958" y="1791.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.6006" x="566.1958" y="1811.6904">RecipeController</text></g><g class="participant participant-head" data-participant="RecipeService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.1689" x="867.1294" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.1689" x="874.1294" y="107.292">RecipeService</text></g><g class="participant participant-tail" data-participant="RecipeService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.1689" x="867.1294" y="1791.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.1689" x="874.1294" y="1811.6904">RecipeService</text></g><g class="participant participant-head" data-participant="MealDB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.1826" x="1188.9102" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1826" x="1195.9102" y="107.292">TheMealDB API</text></g><g class="participant participant-tail" data-participant="MealDB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.1826" x="1188.9102" y="1791.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1826" x="1195.9102" y="1811.6904">TheMealDB API</text></g><g class="participant participant-head" data-participant="AiRecipe"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.6357" x="1319.0928" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.6357" x="1326.0928" y="107.292">AiRecipeService</text></g><g class="participant participant-tail" data-participant="AiRecipe"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.6357" x="1319.0928" y="1791.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.6357" x="1326.0928" y="1811.6904">AiRecipeService</text></g><g class="participant participant-head" data-participant="Gemini"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.3506" x="1787.5654" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.3506" x="1794.5654" y="107.292">Gemini API</text></g><g class="participant participant-tail" data-participant="Gemini"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.3506" x="1787.5654" y="1791.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.3506" x="1794.5654" y="1811.6904">Gemini API</text></g><g><title>Frontend</title><rect fill="#FFFFFF" height="817.0547" style="stroke:#181818;stroke-width:1;" width="10" x="274.8525" y="164.8594"/></g><g><title>Frontend</title><rect fill="#FFFFFF" height="572.3203" style="stroke:#181818;stroke-width:1;" width="10" x="274.8525" y="1046.1797"/></g><g><title>RecipeController</title><rect fill="#FFFFFF" height="375.9922" style="stroke:#181818;stroke-width:1;" width="10" x="619.4961" y="325.6563"/></g><g><title>RecipeController</title><rect fill="#FFFFFF" height="366.125" style="stroke:#181818;stroke-width:1;" width="10" x="619.4961" y="1134.7109"/></g><g><title>RecipeService</title><rect fill="#FFFFFF" height="245.3281" style="stroke:#181818;stroke-width:1;" width="10" x="918.7139" y="412.0547"/></g><g><title>TheMealDB API</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="1244.0015" y="465.3203"/></g><g><title>AiRecipeService</title><rect fill="#FFFFFF" height="247.3281" style="stroke:#181818;stroke-width:1;" width="10" x="1377.4106" y="1163.8438"/></g><g><title>Gemini API</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="1827.7407" y="1280.5078"/></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="262.8525,160.8594,272.8525,164.8594,262.8525,168.8594,266.8525,164.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="268.8525" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.9917" x="45.9551" y="144.6606">Selects items from fridge</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.5459" x="45.9551" y="159.7935">(e.g., apple, chicken, rice)</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,189.9922,39.9551,193.9922,49.9551,197.9922,45.9551,193.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="273.8525" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.8975" x="55.9551" y="188.9263">Show selected items highlighted</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="262.8525,234.2578,272.8525,238.2578,262.8525,242.2578,266.8525,238.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="268.8525" y1="238.2578" y2="238.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.3667" x="45.9551" y="218.0591">Clicks "Find Recipes"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1606" x="45.9551" y="233.1919">in bottom corner</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2040.1187" x="0" y="266.8242"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2040.1187" y1="266.8242" y2="266.8242"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2040.1187" y1="269.8242" y2="269.8242"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="194.7749" x="922.6719" y="256.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="176.249" x="928.6719" y="272.3247">Recipe Via API (Default)</text><g class="message" data-participant-1="Frontend" data-participant-2="Controller"><polygon fill="#181818" points="607.4961,321.6563,617.4961,325.6563,607.4961,329.6563,611.4961,325.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="284.8525" x2="613.4961" y1="325.6563" y2="325.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315.6436" x="291.8525" y="305.4575">GET /api/recipes?ingredients=apple,chicken,rice</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.8433" x="291.8525" y="320.5903">(Authorization: Bearer &lt;JWT&gt;)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="629.4961" x2="671.4961" y1="369.9219" y2="369.9219"/><line style="stroke:#181818;stroke-width:1;" x1="671.4961" x2="671.4961" y1="369.9219" y2="382.9219"/><line style="stroke:#181818;stroke-width:1;" x1="630.4961" x2="671.4961" y1="382.9219" y2="382.9219"/><polygon fill="#181818" points="640.4961,378.9219,630.4961,382.9219,640.4961,386.9219,636.4961,382.9219" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.6792" x="636.4961" y="349.7231">Parse query params</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.2178" x="636.4961" y="364.856">ingredients = ["apple", "chicken", "rice"]</text></g><g class="message" data-participant-1="Controller" data-participant-2="RecipeService"><polygon fill="#181818" points="906.7139,408.0547,916.7139,412.0547,906.7139,416.0547,910.7139,412.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="629.4961" x2="912.7139" y1="412.0547" y2="412.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.5928" x="636.4961" y="406.9888">fetchRecipesFromMealDB(ingredients)</text></g><path d="M857.1294,427.0547 L933.7534,427.0547 L933.7534,434.1875 L923.7534,444.1875 L857.1294,444.1875 L857.1294,427.0547" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="461.9634" x="857.1294" y="427.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="872.1294" y="440.1216">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188.1816" x="948.7534" y="439.2651">[For each selected ingredient]</text><g class="message" data-participant-1="RecipeService" data-participant-2="MealDB"><polygon fill="#181818" points="1232.0015,461.3203,1242.0015,465.3203,1232.0015,469.3203,1236.0015,465.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="928.7139" x2="1238.0015" y1="465.3203" y2="465.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286.6094" x="935.7139" y="460.2544">GET /api/json/v1/1/filter.php?i={ingredient}</text></g><g class="message" data-participant-1="MealDB" data-participant-2="RecipeService"><polygon fill="#181818" points="939.7139,505.5859,929.7139,509.5859,939.7139,513.5859,935.7139,509.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="933.7139" x2="1248.0015" y1="509.5859" y2="509.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5068" x="945.7139" y="489.3872">JSON response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.2876" x="945.7139" y="504.52">{meals: [{idMeal, strMeal, strMealThumb}]}</text></g><g class="message" data-participant-1="RecipeService" data-participant-2="RecipeService"><line style="stroke:#181818;stroke-width:1;" x1="928.7139" x2="970.7139" y1="575.9844" y2="575.9844"/><line style="stroke:#181818;stroke-width:1;" x1="970.7139" x2="970.7139" y1="575.9844" y2="588.9844"/><line style="stroke:#181818;stroke-width:1;" x1="929.7139" x2="970.7139" y1="588.9844" y2="588.9844"/><polygon fill="#181818" points="939.7139,584.9844,929.7139,588.9844,939.7139,592.9844,935.7139,588.9844" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.3105" x="935.7139" y="540.6528">Aggregate recipes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.4131" x="935.7139" y="555.7856">Filter by matching &#8805;2 ingredients</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.5059" x="935.7139" y="570.9185">Limit to top 3 recipes</text></g><path d="M10,603.9844 L74.4429,603.9844 L74.4429,611.1172 L64.4429,621.1172 L10,621.1172 L10,603.9844" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="370.9297" style="stroke:#000000;stroke-width:1.5;" width="980.2983" x="10" y="603.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="617.0513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="227.2939" x="89.4429" y="616.1948">[Recipes found (&#8805;1 recipe matches)]</text><g class="message" data-participant-1="RecipeService" data-participant-2="Controller"><polygon fill="#181818" points="640.4961,653.3828,630.4961,657.3828,640.4961,661.3828,636.4961,657.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="634.4961" x2="922.7139" y1="657.3828" y2="657.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9355" x="646.4961" y="637.1841">RecipeResult[]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.4639" x="646.4961" y="652.3169">{id, title, thumbnail, sourceUrl}</text></g><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="295.8525,697.6484,285.8525,701.6484,295.8525,705.6484,291.8525,701.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="289.8525" x2="623.4961" y1="701.6484" y2="701.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="301.8525" y="681.4497">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.853" x="301.8525" y="696.5825">{recipes: [3 recipe summaries with links]}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,741.9141,39.9551,745.9141,49.9551,749.9141,45.9551,745.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="273.8525" y1="745.9141" y2="745.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.4146" x="55.9551" y="725.7153">Display recipe dropdown</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.084" x="55.9551" y="740.8481">with 3 recipe cards</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="262.8525,771.0469,272.8525,775.0469,262.8525,779.0469,266.8525,775.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="268.8525" y1="775.0469" y2="775.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.4019" x="45.9551" y="769.981">Clicks on recipe card</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,815.3125,39.9551,819.3125,49.9551,823.3125,45.9551,819.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="273.8525" y1="819.3125" y2="819.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.3403" x="55.9551" y="799.1138">Open external link in browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.9697" x="55.9551" y="814.2466">(TheMealDB recipe details)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="990.2983" y1="828.3125" y2="828.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="115.4141" x="15" y="838.5229">[No recipes found]</text><g class="message" data-participant-1="RecipeService" data-participant-2="Controller"><polygon fill="#181818" points="635.4961,859.25,625.4961,863.25,635.4961,867.25,631.4961,863.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="629.4961" x2="922.7139" y1="863.25" y2="863.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6436" x="641.4961" y="858.1841">Empty array []</text></g><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="295.8525,903.5156,285.8525,907.5156,295.8525,911.5156,291.8525,907.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="289.8525" x2="623.4961" y1="907.5156" y2="907.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0146" x="301.8525" y="887.3169">404 Not Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.2837" x="301.8525" y="902.4497">{error: "No matching recipes"}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,962.9141,39.9551,966.9141,49.9551,970.9141,45.9551,966.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="273.8525" y1="966.9141" y2="966.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8545" x="55.9551" y="931.5825">Display message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.4404" x="55.9551" y="946.7153">"No recipes found,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.4907" x="55.9551" y="961.8481">try different ingredients"</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2040.1187" x="0" y="1002.4805"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2040.1187" y1="1002.4805" y2="1002.4805"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2040.1187" y1="1005.4805" y2="1005.4805"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="243.5249" x="898.2969" y="991.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="224.999" x="904.2969" y="1007.981">Recipe Via AI (User toggles AI)</text><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="262.8525,1042.1797,272.8525,1046.1797,262.8525,1050.1797,266.8525,1046.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="268.8525" y1="1046.1797" y2="1046.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.1011" x="45.9551" y="1041.1138">Toggles "AI Recipe" option ON</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="262.8525,1071.3125,272.8525,1075.3125,262.8525,1079.3125,266.8525,1075.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="268.8525" y1="1075.3125" y2="1075.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.3667" x="45.9551" y="1070.2466">Clicks "Find Recipes"</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Controller"><polygon fill="#181818" points="607.4961,1130.7109,617.4961,1134.7109,607.4961,1138.7109,611.4961,1134.7109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="284.8525" x2="613.4961" y1="1134.7109" y2="1134.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.3853" x="291.8525" y="1099.3794">POST /api/recipes/generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.9761" x="291.8525" y="1114.5122">{ingredients: ["apple", "chicken", "rice"],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9707" x="291.8525" y="1129.645">Authorization: Bearer &lt;JWT&gt;}</text></g><g class="message" data-participant-1="Controller" data-participant-2="AiRecipe"><polygon fill="#181818" points="1365.4106,1159.8438,1375.4106,1163.8438,1365.4106,1167.8438,1369.4106,1163.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="629.4961" x2="1371.4106" y1="1163.8438" y2="1163.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.4941" x="636.4961" y="1158.7778">generateRecipe(ingredients)</text></g><g class="message" data-participant-1="AiRecipe" data-participant-2="AiRecipe"><line style="stroke:#181818;stroke-width:1;" x1="1387.4106" x2="1429.4106" y1="1208.1094" y2="1208.1094"/><line style="stroke:#181818;stroke-width:1;" x1="1429.4106" x2="1429.4106" y1="1208.1094" y2="1221.1094"/><line style="stroke:#181818;stroke-width:1;" x1="1388.4106" x2="1429.4106" y1="1221.1094" y2="1221.1094"/><polygon fill="#181818" points="1398.4106,1217.1094,1388.4106,1221.1094,1398.4106,1225.1094,1394.4106,1221.1094" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.0684" x="1394.4106" y="1187.9106">Format ingredients as TOML:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.2178" x="1394.4106" y="1203.0435">ingredients = ["apple", "chicken", "rice"]</text></g><g class="message" data-participant-1="AiRecipe" data-participant-2="Gemini"><polygon fill="#181818" points="1815.7407,1276.5078,1825.7407,1280.5078,1815.7407,1284.5078,1819.7407,1280.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1387.4106" x2="1821.7407" y1="1280.5078" y2="1280.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364.6411" x="1394.4106" y="1245.1763">POST /v1beta/models/gemini-2.5-flash:generateContent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.8765" x="1394.4106" y="1260.3091">{contents: [{parts: [{text: prompt}]}]}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.335" x="1394.4106" y="1275.4419">prompt includes TOML ingredient list</text></g><g class="message" data-participant-1="Gemini" data-participant-2="AiRecipe"><polygon fill="#181818" points="1398.4106,1320.7734,1388.4106,1324.7734,1398.4106,1328.7734,1394.4106,1324.7734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1392.4106" x2="1831.7407" y1="1324.7734" y2="1324.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5068" x="1404.4106" y="1304.5747">JSON response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416.3301" x="1404.4106" y="1319.7075">{candidates: [{content: {parts: [{text: markdown_recipe}]}}]}</text></g><g class="message" data-participant-1="AiRecipe" data-participant-2="AiRecipe"><line style="stroke:#181818;stroke-width:1;" x1="1387.4106" x2="1429.4106" y1="1353.9063" y2="1353.9063"/><line style="stroke:#181818;stroke-width:1;" x1="1429.4106" x2="1429.4106" y1="1353.9063" y2="1366.9063"/><line style="stroke:#181818;stroke-width:1;" x1="1388.4106" x2="1429.4106" y1="1366.9063" y2="1366.9063"/><polygon fill="#181818" points="1398.4106,1362.9063,1388.4106,1366.9063,1398.4106,1370.9063,1394.4106,1366.9063" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.8916" x="1394.4106" y="1348.8403">Extract markdown recipe from response</text></g><g class="message" data-participant-1="AiRecipe" data-participant-2="Controller"><polygon fill="#181818" points="640.4961,1407.1719,630.4961,1411.1719,640.4961,1415.1719,636.4961,1411.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="634.4961" x2="1381.4106" y1="1411.1719" y2="1411.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.0674" x="646.4961" y="1390.9731">Markdown recipe string</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.5757" x="646.4961" y="1406.106">(title, ingredients, steps, serving)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Frontend"><polygon fill="#181818" points="295.8525,1496.8359,285.8525,1500.8359,295.8525,1504.8359,291.8525,1500.8359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="289.8525" x2="623.4961" y1="1500.8359" y2="1500.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="301.8525" y="1435.2388">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.5718" x="301.8525" y="1450.3716">{recipe: "# Recipe Title</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="318.3882" y="1465.5044">1.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.6392" x="334.9238" y="1465.5044">Ingredients</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.5088" x="301.8525" y="1480.6372">...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.9243" x="301.8525" y="1495.77">format: "markdown"}</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1541.1016,39.9551,1545.1016,49.9551,1549.1016,45.9551,1545.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="273.8525" y1="1545.1016" y2="1545.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.2622" x="55.9551" y="1524.9028">Display AI recipe</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2261" x="55.9551" y="1540.0356">in markdown preview</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="262.8525,1570.2344,272.8525,1574.2344,262.8525,1578.2344,266.8525,1574.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="268.8525" y1="1574.2344" y2="1574.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4185" x="45.9551" y="1569.1685">Clicks on AI recipe</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="49.9551,1614.5,39.9551,1618.5,49.9551,1622.5,45.9551,1618.5" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="278.8525" y1="1618.5" y2="1618.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.4463" x="55.9551" y="1598.3013">Show full recipe with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.209" x="55.9551" y="1613.4341">formatted instructions</text></g><path d="M1837,1631.5 L1837,1777.5 L2035,1777.5 L2035,1641.5 L2025,1631.5 L1837,1631.5" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2025,1631.5 L2025,1641.5 L2035,1641.5 L2025,1631.5" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.1187" x="1843" y="1648.5669">Gemini generates creative,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.1743" x="1843" y="1663.6997">personalized recipes with:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4116" x="1843" y="1678.8325">- Recipe title</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4771" x="1843" y="1693.9653">- Complete ingredient list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.1294" x="1843" y="1709.0981">- Step-by-step instructions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.2793" x="1843" y="1724.231">- Cooking time estimate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.3086" x="1843" y="1739.3638">- Serving suggestions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.5654" x="1843" y="1754.4966">Uses TOML format for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.8809" x="1843" y="1769.6294">structured ingredient input</text><!--SRC=[fLVRRkCs47tNLmoKbmJm9KctBqATHJQNHRQR2zRUzY4E2aOQosmaKYKfPxr1Fg0VqX_hbtGeYh9aEq6A3PAO4eTpENDcXZRSP0XVDS89et_l8lY80XKp25ymvWN2k4nJr8PBeOE0nKOgAww2WYd3IO890-6vaiAWIAPYzrWaIl9aBmIcmR_lIZlD9xIbP9QXgaHNZzk4nwWMFCPAilEcApoPuoMoxFG37DzSLCBkiIjrp3UL-dTToO-OSy4RPUun22m0q3zgmejWZ1d6HWCtc6kOAPdJFvwaI8ZW81tqW1L5XZs8vpn-GD43HPRtBA1yOT5kaF8Bw9C1QuYKp-KZwCe29hM9EK_d6VtHcotkd6HaHLDUE2boWUbmAhY0UsaCEHTBHMaEWj78v_atpcoSi7kACrPcPWz6evOpHwq44KdE9Z1a1Hygf_iz5wd2XACmUkGYzO7QE2qjIZENYdzdbaaHV42coEbVFlq-EMgXq291i5glMxzXYhZwLubg2PGkbciRMkC0ZE0sh9m8Un3MVjYbTIMyMzVSuK84CpJnl8QCmiyTWNPR-bl-TgaOP58MS4uLWYoUjpBMd0s0VZg7h0VEH0lLFxKKmyN1y60uuvb1DIZcnNi-UbefUguqDNxKBBVlQlxtDoFxDBw-0eMwe5Acb3pb9AaZk7tYYJtK0srKPp6Pb_dzyvspbU2wDSlMO2EODQF7ARcSsbCrLQRYl8e9xfUGCyAQWe9___xdi0KJ2NtcEJTW9FqMy9C_J1qeCvxGC9CbKNEN3X_K0auZKegs0Bt68hVx1JMH_VQEyE193upjX_HX8nUCMonagMBygh8D6Bh9jvjjOdNgyN1_7wv_9Hjr78IwZmbqcUTCSOhdaPivP5myw4tCMvLXTxPqYLEkYumjlLhgmaKY7yLKL6eRSp5JYQvqlDWsf6WBlsJlka01-8rIALXMkGssloZvIDjKyQjUx3r2GuXIRZ2ZyhsIFgakZs_8s5bUc2KmfIZAsxiVICUx_NTatr2fbdPcFQ5IalI7v5D3oTgvy0SoaQFMBCLeAiBrQ7jJKhA4XCzcg8ZnRVA7LMMrB3QpORrTKxUkacXaccQa-lYYwjgRYPtK0Y4TSGf2a8LjnN1zjMK8lN6Yl3WVRgx7tG4nJEjhXQspLQZHgvsQG7fbR3o_PMpuiHw1Ty0zlz3Fcrk0NtHrK6idVhHpPMy5a-lBpz7_ca1jxUvEuI5R7DnJbGnpcL2H46Xshtyu-Ba_ovYUHpw8amfsGs36RbNrSNjrgHQ6oZA2WgPNOQX_tprFXNiWr-EiJD0vtGg4wbUR5GxrHQU-_lGx8AoFaPY9X2TqgZ9T-nF1kZVKunviF_h3COASifEbnVBQvdRapxuPHPAD5jzJgfkMTwPrTesFbsl7QC1HxDIawdxVofsTVbZO3zj9HBhNzh7XH_3MLazTPSVNxCGQcugT7RXeZxh1O10IrMSLkKZUnnXsu6bn_9MMG_Njx5QNlGQjGk62usFmMijlZhvu1PsLMUOHj4F5- -pkE8Hf6Rll2Ljxbv3s4c2lh21dFjjGBvhor10hf6fVO8ys2rHq5M8P_qucV0ErfYFQx7jSgoHMBqw8v1cIdNLcsyqnvRL_l-pR_7RzTKVbW-txXkS8zWiF1UQKZXqHQ52llWbLqxEk8WU2_Q3NJckfEjS-MXQbiMqTB0h_0G00]--></g></svg>